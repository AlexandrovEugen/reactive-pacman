apply plugin: 'org.springframework.boot'
apply plugin: 'com.bmuschko.docker-spring-boot-application'

dependencies {

  implementation project(':game-idl')
  //RSocket Dependencies
  implementation 'io.rsocket:rsocket-core'
  implementation 'io.rsocket:rsocket-transport-netty'

  implementation ('io.rsocket.rpc:rsocket-rpc-core') {
      exclude group: 'io.rsocket', module: 'rsocket-core'
  }

  implementation 'com.hazelcast:hazelcast'
  implementation 'com.netifi:netifi-spring-boot-starter'
  implementation 'com.netifi:netifi-metrics-micrometer'
  implementation 'org.springframework.boot:spring-boot-starter'
  implementation 'org.roaringbitmap:RoaringBitmap'
  implementation 'org.jctools:jctools-core'
  implementation 'io.projectreactor.addons:reactor-extra'
  implementation "io.micrometer:micrometer-core"
  implementation 'com.google.protobuf:protobuf-java'

  testImplementation 'org.springframework.boot:spring-boot-starter-test'
  testImplementation 'io.projectreactor:reactor-test'
}

docker {
  springBootApplication {
    baseImage = 'adoptopenjdk/openjdk11'
    ports = [3000, 9090]
    tag = "reactive-pacman-game-server:${project.version}"
  }
}
